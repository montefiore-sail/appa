defaults:
  - backbone: vit_large
  - optim: adamw

train:
  update_steps: 500_000
  # Number of elements that can fit at once on a gpu
  batch_element_per_gpu: 1
  # Effective batch size for one optimizer step
  batch_size_per_step: 256
  precision: float16
  # Minimal number of samples seen to log statistics
  log_interval: 1024
  # Minimal number of samples seen to save checkpoints
  save_interval: 8192
  shuffle_training: true
  standardize: true
  # Time in hours between two adjacent samples of a blanket
  blanket_dt: 1
  blanket_size: 24
  noise_schedule: rectified
  sigma_min: 1e-3
  sigma_max: 1e3
  inject_ae_noise: true

loss:
  sigma_min_penalty: 0

valid:
  log_interval: 16384
  # Quantitative
  n_valid_samples: 32
  # Qualitative
  n_valid_dates: 2
  n_valid_samples_per_date: 1
  n_valid_channels: 3
  denoising_steps: 64

slurm_account: users

# AE run that generated the latents (e.g., cg33oqw8/0)
ae_run: ???
# ID of the latent data dump (e.g., k3j4l2fz)
latent_dump: ???
latent_data: "era5.h5"

slurm_account: sail
wandb_entity: montefiore_sail
